<div class="posts" th:fragment="posts">
  <div class="postCard" th:each="post : ${allReq}">
    <div class="PostProfile">
      <img th:src="*{'data:image/png;base64,'+ profileImage}"
           th:if="${showProfileImage == true}"/>
      <img
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/512px-Circle-icons-profile.svg.png"
          th:alt="${post.userAccount.firstName} + ' ' +${post.userAccount.lastName}"
          th:title="${post.userAccount.firstName} + ' ' +${post.userAccount.lastName}"
          th:unless="${showProfileImage == true}">
      <p th:text="${post.userAccount.firstName} +' '+ ${post.userAccount.getLastName()}"></p>
    </div>
    <div class="postInfo">
      <div th:text="${post.createdAt}" class="postBodyDate"></div>
      <div th:text="${post.content}" class="postBodyInfo"></div>
      <div th:text="${post.type}" class="postBodyType"></div>
    </div>
    <div class="postBodyBtnGroup">
      <form th:action="'/request/likes/'+${post.id}" method="post">
      <button type="submit" class="postBodyBtn" >
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>
        <span th:text="'Likes '+${post.likesCounter}"> Likes </span>
      </button>
      </form>

      <form th:action="'/request/dislikes/'+${post.id}" method="post">
        <button type="submit" class="postBodyBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path></svg>
          Dislike
        </button>
      </form>
      <a th:href="'/response/'+${user.id}+'/'+${post.id}" class="postBodyBtn">
      <svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true">
        <path
                d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z">
        </path>
      </svg>
      Comment</a>
      <span th:if="${user.id} == ${post.userAccount.id}">
            <form th:action="'/request/'+${post.id}" th:method="delete">
        <button type="submit" class="postBodyBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
          Delete
        </button>
      </form>
        </span>
    </div>
  </div>
  </div>


<div class="posts" th:fragment="userposts">
  <div class="postCard" th:each="post : ${user.requests}">
    <div class="PostProfile">
      <img th:src="*{'data:image/png;base64,'+ profileImage}"
           th:if="${showProfileImage == true}"/>
      <img
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/512px-Circle-icons-profile.svg.png"
          th:alt="${user.firstName} + ' ' +${user.lastName}"
          th:title="${user.firstName} + ' ' +${user.lastName}"
          th:unless="${showProfileImage == true}">
      <p th:text="${user.firstName} +' '+ ${user.lastName}"></p>
    </div>
    <div class="postInfo">
      <div th:text="${post.createdAt}" class="postBodyDate"></div>
      <div th:text="${post.content}" class="postBodyInfo"></div>
      <div th:text="${post.type}" class="postBodyType"></div>
    </div>
    <div class="postBodyBtnGroup">
      <form th:action="'/request/likes/'+${post.id}" method="post">
        <button type="submit" class="postBodyBtn" >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>
          <span th:text="'Likes '+${post.likesCounter}"> Likes </span>
        </button>
      </form>

      <form th:action="'/request/dislikes/'+${post.id}" method="post">
        <button type="submit" class="postBodyBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path></svg>
          Dislike
        </button>
      </form>
      <a th:href="'/response/'+${user.id}+'/'+${post.id}" class="postBodyBtn">
        <svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true">
          <path
              d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z">
          </path>
        </svg>
        Comment</a>
      <span th:if="${user.id} == ${post.userAccount.id}">
            <form th:action="'/request/'+${post.id}" th:method="delete">
        <button type="submit" class="postBodyBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
          Delete
        </button>
      </form>
        </span>
    </div>
  </div>
</div>

<div class="posts" th:fragment="otheruserposts">
  <div class="postCard" th:each="post : ${appUser.requests}">
    <div class="PostProfile">
      <img th:src="*{'data:image/png;base64,'+ profileImage}"
           th:if="${showProfileImage == true}"/>
      <img
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/512px-Circle-icons-profile.svg.png"
          th:alt="${user.firstName} + ' ' +${user.lastName}"
          th:title="${user.firstName} + ' ' +${user.lastName}"
          th:unless="${showProfileImage == true}">
      <p th:text="${appUser.firstName} +' '+ ${appUser.lastName}"></p>
    </div>
    <div class="postInfo">
      <div th:text="${post.createdAt}" class="postBodyDate"></div>
      <div th:text="${post.content}" class="postBodyInfo"></div>
      <div th:text="${post.type}" class="postBodyType"></div>
    </div>
    <div class="postBodyBtnGroup">
      <form th:action="'/request/likes/'+${post.id}" method="post">
        <button type="submit" class="postBodyBtn" >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>
          <span th:text="'Likes '+${post.likesCounter}"> Likes </span>
        </button>
      </form>

      <form th:action="'/request/dislikes/'+${post.id}" method="post">
        <button type="submit" class="postBodyBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path></svg>
          Dislike
        </button>
      </form>
      <a th:href="'/response/'+${user.id}+'/'+${post.id}" class="postBodyBtn">
        <svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true">
          <path
              d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z">
          </path>
        </svg>
        Comment</a>
      <span th:if="${user.id} == ${post.userAccount.id}">
            <form th:action="'/request/'+${post.id}" th:method="delete">
        <button type="submit" class="postBodyBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
          Delete
        </button>
      </form>
        </span>
    </div>
  </div>
</div>

<div class="posts" th:fragment="feedsposts">
  <section class="feeds" th:each="account : ${user.following}">
  <div class="postCard feedpost" th:each="post : ${account.requests}">
    <div class="PostProfile">
      <img th:src="*{'data:image/png;base64,'+ profileImage}"
           th:if="${showProfileImage == true}"/>
      <img
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/7e/Circle-icons-profile.svg/512px-Circle-icons-profile.svg.png"
          th:alt="${user.firstName} + ' ' +${user.lastName}"
          th:title="${user.firstName} + ' ' +${user.lastName}"
          th:unless="${showProfileImage == true}">
      <p th:text="${account.firstName} +' '+ ${account.lastName}"></p>
    </div>
    <div class="postInfo">
      <div th:text="${post.createdAt}" class="postBodyDate"></div>
      <div th:text="${post.content}" class="postBodyInfo"></div>
      <div th:text="${post.type}" class="postBodyType"></div>
    </div>
    <div class="postBodyBtnGroup">
      <form th:action="'/request/likes/'+${post.id}" method="post">
        <button type="submit" class="postBodyBtn" >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"></path></svg>
          <span th:text="'Likes '+${post.likesCounter}"> Likes </span>
        </button>
      </form>

      <form th:action="'/request/dislikes/'+${post.id}" method="post">
        <button type="submit" class="postBodyBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"></path></svg>
          Dislike
        </button>
      </form>
      <a th:href="'/response/'+${user.id}+'/'+${post.id}" class="postBodyBtn">
        <svg class="MuiSvgIcon-root" focusable="false" viewBox="0 0 24 24" aria-hidden="true">
          <path
              d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z">
          </path>
        </svg>
        Comment</a>
      <span th:if="${user.id} == ${post.userAccount.id}">
            <form th:action="'/request/'+${post.id}" th:method="delete">
        <button type="submit" class="postBodyBtn">
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff7f7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path><line x1="10" y1="11" x2="10" y2="17"></line><line x1="14" y1="11" x2="14" y2="17"></line></svg>
          Delete
        </button>
      </form>
        </span>
    </div>
  </div>
  </section>
</div>